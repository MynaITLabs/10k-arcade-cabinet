game.helicopter=function(){function t(t,n){return Math.floor(Math.random()*(n-t+1)+t)}function n(){c.alive=!0,c.x=kontra.canvas.width/2-r,c.y=kontra.canvas.height-5*r,o=150,e=kontra.canvas.width/2-o/2,a=0;for(var n=0;n<i;n++)e=t(e-2,e+2),h.push({x:e,length:o})}var e,o,a,r=10,i=kontra.canvas.height/r+1,h=[],c=kontra.sprite({dx:6,update:function(){game.leftPressed?this.x-=this.dx:game.rightPressed&&(this.x+=this.dx),(this.x<h[5].x||this.x+2*r>h[5].x+h[5].length)&&(this.alive=!1)},render:function(){kontra.context.strokeStyle="#fff",kontra.context.beginPath(),kontra.context.moveTo(this.x,this.y),kontra.context.lineTo(this.x+r,this.y-r),kontra.context.lineTo(this.x+2*r,this.y),kontra.context.stroke()}});c.alive=!0,n();var x=kontra.gameLoop({update:function(r){game.updateKeys(),game.escPressed&&(x.stop(),game.goBack(),setTimeout(function(){n()},100)),game.enterPressed&&!c.alive&&n(),c.alive&&(a++,e=t(e-7,e+7),o=o>75?o-.25:o,e=Math.min(Math.max(5,e),kontra.canvas.width-o-5),h.push({x:e,length:o}),h.shift(),c.update())},render:function(){kontra.context.save(),kontra.context.lineWidth=5,kontra.context.fillStyle="#fff",kontra.context.beginPath(),kontra.context.moveTo(0,0);for(var t,n=h.length-1,e=0;e<h.length;n--,e++){var t=h[n],o=r*e;kontra.context.lineTo(t.x,o)}kontra.context.lineTo(0,kontra.canvas.height),kontra.context.fill(),kontra.context.beginPath(),kontra.context.moveTo(kontra.canvas.width,0);for(var t,n=h.length-1,e=0;e<h.length;n--,e++){var t=h[n],o=r*e;kontra.context.lineTo(t.x+t.length,o)}kontra.context.lineTo(kontra.canvas.width,kontra.canvas.height),kontra.context.fill(),c.render(),c.alive||(kontra.context.fillStyle="#f00",kontra.context.font="50px monospace",kontra.context.fillText("DISTANCE:",70,100),kontra.context.fillText(a,160,150)),kontra.context.restore()},fps:30});return x}();